# Jieqi-ismcts

## 揭棋规则

1. **棋子与明暗**

* 红黑双方各有 16 子（含将/帅），其中 **将/帅开局明摆在原点**。
* 其余 15 子为**暗子**：开局时棋面上只知道“这是暗子”，不知道其真实身份。

2. **开局摆子（位置固定、身份随机）**

* 暗子**只能摆在中国象棋开局时对应的 15 个非将/帅固定位置上**（红在红方半场、黑在黑方半场）。
* **暗子真实身份不要求与该位置的象棋身份一致**：例如“兵位”上的暗子，其真实身份可能是车/马/炮/士/象/兵中的任意一种（按库存数约束）。

3. **暗子走子：按“所在位置的象棋规则”行动**

* 暗子未翻开时，走法不按真实身份，而按它所在的**初始位置类别（兵位/炮位/马位/相位/士位/车位）**决定：

  * 兵位暗子：只能向前一步（未过河不能横走）
  * 马位暗子：仅允许“向前”的日字（且要蹩马腿）
  * 相位暗子：仅允许“向前”的象走（且要塞象眼）
  * 士位暗子：仅允许“向前”的斜一步到达花心
  * 炮位暗子：炮规则（隔一子打）
  * 车位暗子：直线滑行
* 走子时仍遵循基本象棋占位规则：不能落到己方棋子上，可吃对方棋子。

4. **翻明规则**

* 本项目中 **没有“原地翻开”**：暗子通过“走子/吃子”之后**自动翻明**，此后按真实身份（车马炮士象兵将）走子。
* **士、象翻明后可过河**（不做中国象棋那种“相不过河/士守九宫”的限制）。
* 将/帅仍然只能在九宫中。

5. **吃子与信息不对称**

* 吃子方**总是知道被吃棋子的真实身份**（包括对方暗子）。
* 被吃方对“自己暗子被吃”的情况：**只知道暗子损失数量**，不知道具体是哪一类（真实身份不可见）。
* 被吃方对“自己明子被吃”：身份可见（因为明子本来就公开）。

6. **胜负**

* 吃掉对方将/帅即胜（项目实现为捕获 K 直接终局）。
* 也可设最大步数作为和棋/截断。
